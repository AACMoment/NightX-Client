package net.aspw.nightx.features.module.modules.exploit

import net.aspw.nightx.event.EventTarget
import net.aspw.nightx.event.UpdateEvent
import net.aspw.nightx.features.module.Module
import net.aspw.nightx.features.module.ModuleCategory
import net.aspw.nightx.features.module.ModuleInfo

@ModuleInfo(name = "RiderGod", spacedName = "Rider God", category = ModuleCategory.EXPLOIT)
class RiderGod : Module() {
    override fun onEnable() {
        if (mc.thePlayer.isRiding) {
            mc.thePlayer.dismountEntity(mc.thePlayer.ridingEntity)
            mc.theWorld.removeEntity(mc.thePlayer.ridingEntity)
        } else {
            chat("You are not riding entity!")
        }
    }

    @EventTarget
    fun onUpdate(event: UpdateEvent?) {
        if (mc.thePlayer.isRiding) {
            mc.thePlayer.ridingEntity.setPosition(mc.thePlayer.posX, mc.thePlayer.posY, mc.thePlayer.posZ)
        }
    }
}